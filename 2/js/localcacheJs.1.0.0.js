define("localcache",function(e){if(window.localStorage&&!seajs.data.debug){var t=seajs.Module,a=seajs.data,n=t.prototype.fetch,o=["??",","],r=a.localcache&&a.localcache._manifest||{},i={_maxRetry:1,_retry:!0,get:function(e,t){var a;try{a=localStorage.getItem(e)}catch(n){return}return a?t?JSON.parse(a):a:void 0},set:function(e,t,a){a="undefined"==typeof a?this._retry:a;try{localStorage.setItem(e,t)}catch(n){if(a)for(var o=this._maxRetry;o>0;)o--,this.removeAll(),this.set(e,t,!1)}},remove:function(e){try{localStorage.removeItem(e)}catch(t){}},removeAll:function(){for(var e=a.localcache&&a.localcache.prefix||/^https?\:/,t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);e.test(n)&&(r[n]||localStorage.removeItem(n))}}},l=i.get("manifest",!0)||{};if(r){var c=a.localcache&&a.localcache.validate||function(e,t){return t&&e?!0:!1},s=function(e,t){var n=new window.XMLHttpRequest,o=setTimeout(function(){n.abort(),t(null)},a.localcache&&a.localcache.timeout||3e4);n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&(clearTimeout(o),t(200===n.status?n.responseText:null))},n.send(null)},f=function(e,t){if(t&&/\S/.test(t))if(/\.css(?:\?|$)/i.test(e)){var a=document,n=a.createElement("style");a.getElementsByTagName("head")[0].appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(a.createTextNode(t))}else try{t+="//@ sourceURL="+e,(window.execScript||function(e){window.eval.call(window,e)})(t)}catch(o){return!1}return!0},u=function(e){var t=a.comboSyntax&&a.comboSyntax[0]||"??";return e.indexOf(t)>=0},h=function(e){var t=a.comboSyntax||o,n=e.split(t[0]);if(2!=n.length)return e;var r=n[0],i=n[1].split(t[1]),l={};l.host=r,l.files=[];for(var c=0,s=i.length;s>c;c++)l.files.push(i[c]);return l},d=a.localcache&&a.localcache.splitCombo||function(e,t,a){for(var n=e.split("define"),o=[],r=0,i=n.length;i>r;r++)n[r]&&o.push("define"+n[r]);return o},v={},g=function(e){var t=v[e];for(delete v[e];m=t.shift();)m.load()},p=document,y=p.head||p.getElementsByTagName("head")[0]||p.documentElement;y.getElementsByTagName("base")[0],+navigator.userAgent.replace(/.*(?:AppleWebKit|AndroidWebKit)\/(\d+).*/,"$1")<536;t.prototype.fetch=function(e){var t=this;seajs.emit("fetch",t);var m=t.requestUri||t.uri,p=u(m);if(v[m])return void v[m].push(t);v[m]=[t];var y=function(a){delete v[a],n.call(t,e)};if(!p&&r[m]){var S=i.get(m),x=c(m,S);if(r[m]==l[m]&&x)f(m,S)?g(m):y(m);else{var w=document.createElement("a");w.href=m;var b=w.host.split(":")[0];document.domain==b&&location.host===w.host?s(m+"?v="+Math.random().toString(),function(e){e&&c(m,e)&&f(m,e)?(l[m]=r[m],i.set("manifest",JSON.stringify(l)),i.set(m,e),g(m)):y(m)}):(l[m]=r[m],i.set("manifest",JSON.stringify(l)),y(m))}}else if(p){for(var N=h(m),T=!1,E=N.files.length-1;E>=0;E--){var O=N.host+N.files[E],S=i.get(O),x=c(O,S);r[O]&&(T=!0,r[O]==l[O]&&x&&(f(O,S),N.files.splice(E,1)))}if(0==N.files.length)return void g(m);if(!T)return void y(m);var j=a.comboSyntax||o,A=N.host+j[0]+N.files.join(j[1]);s(A+"?v="+Math.random().toString(),function(e){if(!e)return void y(m);var t=d(e,A,N.files);if(N.files.length==t.length){for(var a=0,n=N.files.length;n>a;a++){var o=N.host+N.files[a];if(!f(o,t[a]))return void y(m);l[o]=r[o],i.set(o,t[a])}i.set("manifest",JSON.stringify(l)),g(m)}else y(m)})}else l[m]&&(delete l[m],i.set("manifest",JSON.stringify(l)),i.remove(m)),y(m)}}}});