define("dataserviceJs",function(i,e,t){function n(i){return"[object Object]"=={}.toString.call(i)}function a(i){if(!n(i))return!0;for(var e in i)if({}.hasOwnProperty.call(i,e))return!1;return!0}function o(i,e){return this instanceof o?(this.elem=$(i),void this.init(e)):new o(i,e)}function r(){this.elem.append('<div class="data-loader">'+this.clickMsg+"</div>");var i=this;$(".data-loader",i.elem).on("click",function(){i.isLoading||i.isLoaded||(i.showLoading(),i.loadData())})}o.prototype={constructor:o,init:function(i){this.check(i.config),$.extend(this,{initLoad:!1,method:"scroll",scrollElem:$(window),bottom:0,initMsg:"上拉加载更多数据",loadingMsg:"正在加载中",finishMsg:"没有更多内容了哦",clickMsg:"点击加载更多数据",errorMsg:"出错了，请重试"},i),this.initLoad&&this.loadData(),this.bindEvents()},bindEvents:function(){"click"===this.method&&r.call(this)},check:function(i){if(!n(i))throw new Error("the config must be an object！");if(a(i))throw new Error("the config cant be an empty object！");if(!i.name)throw new Error("the serviceName is required！");if(!i.url)throw new Error("the url is required！");if(!i.interfaceid)throw new Error("the interfaceid is required！")},loadData:function(){var i=this;i.isLoading=!0;var e={param:{tagname:i.config.tag||"",servicename:i.config.name,interfaceid:i.config.interfaceid,requrl:i.config.url,reqbody:i.data||"",iscache:i.config.cache||0},callback:function(e){i.isLoading=!1;var t,n=$(".data-loader",i.elem);if((!i.config.callback||(t=i.config.callback(e,i)))&&(i.contentElem?$(i.contentElem,i.elem).append(t||e):n.length?n.before(t||e):i.elem.append(t||e)),i.isLoaded){if(i.hideFinishMsg&&n.length)return void n.css({display:"none"});n.length?n.html(i.finishMsg):i.initLoad&&i.elem.append('<div class="data-loader">'+i.finishMsg+"</div>")}else{if(!n.length)return;n.css({display:"block"}),"scroll"===i.method?n.html(i.initMsg):"click"===i.method&&n.html(i.clickMsg)}}};i.config.ajaxObj&&(e.ajaxObj=i.config.ajaxObj),window._tc_bridge_util.get_data(e)},stop:function(){this.stopped=!0},start:function(){this.stopped=!1},showLoading:function(){var i=this,e=$(".data-loader",i.elem),t="<span>"+i.loadingMsg+"</span>";e.length?e.html(t):(i.elem.append('<div class="data-loader">'+t+"</div>"),e=$(".data-loader",i.elem)),$(window).scrollTop($(window).scrollTop()+e.height())}},$.fn.dataService=function(i){for(var e=[],t=0,n=this.length;n>t;t++)e.push(new o(this[t],i));return 1===e.length?e[0]:e.length>1?e:void 0}});