!function(n,e){function a(n,e){r++;var a=e.cbcache||"bridgeFnCache"+r,t=typeof n;if("function"===t)p[a]=n;else if("string"===t){for(var o,c=n.split("."),i=0;i<c.length;i++){if(0===i)o=window[c[i]];else{if("[object Object]"!==Object.prototype.toString.call(o))break;o=o[c[i]]}if(!o)break}p[a]="function"==typeof o?o:function(){}}return e.cbcache?[e.cbcache,""]:["bridgeFnCache",r]}function t(n,e,a){var t=":s"+encodeURIComponent(":"+encodeURIComponent(a));c.loadURL("easy-js:"+n+":"+encodeURIComponent(e+":")+t)}var o=navigator.userAgent.toLowerCase(),r=0,p={},c={platform:null,isTc:!1,isNavbarHidden:!0,isToolbarHidden:!0,NaEptStr:function(n){return!!("string"==typeof n&&n.trim().length>0)},buildParams:function(n){var e=this;"[object Object]"===Object.prototype.toString.call(n.reqbody)&&e.NaEptObj(n.reqbody)&&(n.reqbody=JSON.stringify(n.reqbody),n.reqbody=n.reqbody.substring(1,n.reqbody.length-1))},extend:function(n,e){if(e&&n){var a,t;for(t in e)null!=(a=e[t])&&(n[t]=a);return n}},NaEptObj:function(n){var e=Object.prototype.toString.call(n);if("[object Array]"===e&&n.length>0)return!0;if("[object Object]"===e){for(var a in n)if(hasOwnProperty.call(n,a))return!0;return!1}return!1},stringifyAndEncode:function(n,e){try{var a=JSON.stringify(n);return e||(a=encodeURIComponent(a)),a}catch(t){return""}},decodeAndParse:function(n){try{return JSON.parse(decodeURIComponent(n))}catch(e){return{}}},ntvCB:function(n,e){if(n){var a="[object Object]"===Object.prototype.toString.call(n)?n:c.decodeAndParse(n),t=a.pluginname+a.tagname,o=p[t];if(a.cacheKey){var r=Android.getCacheByKey(a.cacheKey);r&&(cachecbObj=JSON.parse(r),a.param=cachecbObj.param)}if(o)o(a.param),-1===t.indexOf("_cbcachemark_")&&delete p[t];else if(o=window[a.pluginname],o=o?o[a.tagname]:!1)o&&o(a.param);else{if("catch"===e)return;setTimeout(function(){c.ntvCB(n,"catch")},10)}}},loadURL:function(n){var a=e.createElement("iframe");a.style.display="none",a.src=n,e.body.appendChild(a),setTimeout(function(){a.parentNode.removeChild(a),a=null},200)},appver:null,isAppVersionGreatThan:function(n){return c.appver>=n&&n>0},appVersionNotSupportCallback:function(n,e){setTimeout(function(){var a={pluginname:n.CBPluginName,tagname:n.CBTagName,param:{tagname:n.param.tagname,startVer:e}};c.ntvCB(c.stringifyAndEncode(a))},10)},init:function(){o.indexOf("iphone")>-1||o.indexOf("ipad")>-1?c.platform=0:o.indexOf("android")>-1&&(c.platform=1),-1!=o.indexOf("tctravel")&&(c.isTc=!0),c.appver=function(){var n=0,e=o.match(/tctravel\/([\d\.]+)/i);if(e&&e.length>=2){var a=e[1].split(".");2==a.length&&a.push(0),3==a.length&&(n=parseInt(a.join("")))}return n}()}};c.processFn=a,c.init();var i={};n._tc_bridge_public=c,n._tc_bridge_util=i;for(var m=[{pfn:"_tc_bridge_bar",dfn:"_tc_ntv_bar",config:[{name:"set_navbar",v:700,cbcache:!0},{name:"set_navbar_hidden",emptyPass:!0,v:700,processData:function(n){return n&&n.param||(c.isNavbarHidden=!c.isNavbarHidden,n={param:{isNavbarHidden:c.isNavbarHidden}}),n}},{name:"set_toolbar_hidden",v:700,processData:function(n){return n&&n.param||(c.isToolbarHidden=!c.isToolbarHidden,n={param:{isToolbarHidden:c.isToolbarHidden}}),n}},{name:"shareInfoFromH5",v:700,cbcache:!0},{name:"show_navbar_close_icon",v:750}]},{pfn:"_tc_bridge_util",dfn:"_tc_ntv_util",config:[{name:"set_webview_back",v:710,dfn:"_tc_ntv_bar",emptyPass:1},{name:"show_dialog",v:700},{name:"get_data",v:700,notSupprot:function(n){$.ajax({type:"post",url:"http://61.155.159.99:8010/youlun/api/apitesthandler.ashx",data:JSON.stringify(n.param),success:function(e){c.ntvCB({param:{CBData:e},pluginname:n.CBPluginName,tagname:n.CBTagName})}})},processData:function(n){return c.buildParams(n.param),n}},{name:"set_page",v:700},{name:"set_event",v:700},{name:"upload_photo",v:710},{name:"keyword_search",v:710},{name:"set_city",v:710},{name:"set_category_event",v:710},{name:"set_webview_info",v:710,av:802},{name:"show_tips_dialog",v:720},{name:"get_network_type",v:720},{name:"set_alarm_info",v:720},{name:"get_alarm_info",v:720},{name:"cancel_alarm_info",v:720},{name:"show_toast",v:730},{name:"show_flash_dialog",v:730},{name:"save_tracelog",v:742},{name:"choose_photo",v:750,notSupprotNormal:!0},{name:"show_online_dialog",v:751,notSupprotNormal:!0},{name:"check_online_entry",v:751,notSupprotNormal:!0},{name:"set_weixin_cardcoupon",v:752,notSupprotNormal:!0},{name:"check_installed_packages",av:753,notSupprotNormal:!0,v:-1},{name:"scan",notSupprotNormal:!0,v:804},{name:"crop_photo",notSupprotNormal:!0,v:804},{name:"create_qrimage",notSupprotNormal:!0,v:804}]},{pfn:"_tc_bridge_map",dfn:"_tc_ntv_map",config:[{name:"app_location",v:710,notSupprotNormal:!0,callfn:"app_locate"},{name:"open_navigation_map",v:730},{name:"select_city",v:730,notcode:!0,cbcache:!0},{name:"show_multi_lonlats",v:740,notSupprotNormal:!0},{name:"open_hotel_map",v:760},{name:"select_flight_city",v:804,notSupprotNormal:!0},{name:"select_discovery_city",v:804,notSupprotNormal:!0}]},{pfn:"_tc_bridge_user",dfn:"_tc_ntv_user",config:[{name:"user_login",v:720,notSupprotNormal:!0},{name:"get_device_info",v:720,notSupprotNormal:!0},{name:"get_contacts",v:730,notSupprotNormal:!0},{name:"get_mailing_address",v:730,notSupprotNormal:!0},{name:"user_logout",v:730,notSupprotNormal:!0},{name:"pick_common_contacts",v:740,notSupprotNormal:!0},{name:"pick_flight_common_contacts",v:750,notSupprotNormal:!0},{name:"pick_interflight_common_contacts",v:751,notSupprotNormal:!0},{name:"check_lockpattern",v:802,notSupprotNormal:!0},{name:"get_all_contacts",v:804,notSupprotNormal:!0}]},{pfn:"_tc_bridge_web",dfn:"_tc_ntv_web",config:[{name:"open_newurl",v:720},{name:"data_callback",v:720},{name:"clear_cache",v:731},{name:"clear_cache",v:731}]},{pfn:"_tc_bridge_datetime",dfn:"_tc_ntv_datetime",config:[{name:"pick_datetime",v:730,notSupprotNormal:!0},{name:"pick_date",v:730,notSupprotNormal:!0},{name:"pick_iflight_calendar",v:751,notSupprotNormal:!0},{name:"pick_common_calendar",v:760,notSupprotNormal:!0}]},{pfn:"_tc_bridge_sale",dfn:"_tc_ntv_sale",config:[{name:"get_redpackage",v:730,notSupprotNormal:!0},{name:"select_redpackage",v:730,notSupprotNormal:!0},{name:"get_redpackage_with_price",v:730,notSupprotNormal:!0}]},{pfn:"_tc_bridge_pay",dfn:"_tc_ntv_pay",config:[{name:"pay_creditcard",v:730,notSupprotNormal:!0},{name:"pay_alipay",v:730,notSupprotNormal:!0},{name:"pay_platform",v:740,notSupprotNormal:!0},{name:"open_recommend_page",v:740,notSupprotNormal:!0},{name:"flight_pay_platform",v:750,notSupprotNormal:!0}]},{pfn:"_tc_bridge_project",dfn:"_tc_ntv_project",config:[{name:"update_trainorder_status",v:742},{name:"write_comment",v:742,notSupprotNormal:!0},{name:"open_commentlist",v:742,notSupprotNormal:!0},{name:"save_train_nonmember_order",v:750,notSupprotNormal:!0},{name:"save_flight_nonmember_order",v:750,notSupprotNormal:!0},{name:"open_comment_center",v:752,notSupprotNormal:!0},{name:"open_hotel_book_page",v:760,notSupprotNormal:!0}]}],_=0;_<m.length;_++){var l=m[_],s=l.config;n[l.pfn]=n[l.pfn]||{};for(var v=0;v<s.length;v++)!function(e,a,o,r){var p;p=1==c.platform?c.isAppVersionGreatThan(e.v||e.av):c.isAppVersionGreatThan(e.v);var i=e.dfn||a.dfn,m=e.name;o[m]=function(a){if(e.processData&&(a=e.processData(a)),a&&(e.cbcache&&(a.cbcache=r+"_cbcachemark_"+m),a.callback)){var o=c.processFn(a.callback,a);a.CBPluginName=o[0],a.CBTagName=o[1]}if(e.emptyPass||c.NaEptObj(a)){var _=e.callfn||m;if(p){if(0==c.platform)t(i,_,c.stringifyAndEncode(a));else if(1==c.platform){var l=c.stringifyAndEncode(a,e.notcode&&c.isAppVersionGreatThan(e.notcode));n[i][_](l)}}else e.notSupprot&&e.notSupprot(a),e.notSupprotNormal&&c.appVersionNotSupportCallback(a,e.v.toString().split("").join("."))}}}(s[v],l,n[l.pfn],l.pfn)}}(window,document);