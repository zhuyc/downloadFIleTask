define("dialog",function(t,e,o){function n(t){this._options={},$.extend(this._options,s),$.extend(this._options,t),this.init()}function i(t){var e,o,n,i=this,a=i._options;switch(t.type){case a.RotateChangeEvent:a._isOpen&&this.refresh(1);break;case"touchmove":a.scrollMove&&t.preventDefault();break;case"click":if(a._mask&&($.contains(a._mask[0],t.target)||a._mask[0]===t.target))return"function"==typeof a.maskClick&&a.maskClick();if(o=a._wrap.get(0),(e=$(t.target).closest(".close",o))&&e.length)i.close();else if((e=$(t.target).closest(".ui-dialog-btns .ui-btn",o))&&e.length){var s=e.attr("data-key");n=a.buttons[s],"function"!=typeof n&&(n=n.fn),n&&n.call(i,s,a.buttons,arguments)}else a.wrapClickFn&&a.wrapClickFn($(t.target))}}!function(){var t=".ui-dialog{background:#f5f5f5;-webkit-box-shadow:0 1px 10px rgba(0,0,0,.6);-webkit-border-radius:5px}.ui-dialog .ui-dialog-title{height:50px;line-height:50px;font-size:16px;text-align:center;background:#f0f0f0;color:#333;font-weight:700;-webkit-border-radius:3px 3px 0 0}.ui-dialog .ui-dialog-title h3{margin:0;text-align:left;text-indent:1em}.ui-dialog .close-hover{background-color:rgba(255,255,255,.4)}.ui-dialog .ui-dialog-content{padding:20px;position:relative}.ui-dialog-btns{table-layout:fixed;display:table;margin:19px 0 0;width:100%;background-image:-webkit-linear-gradient(top,#dcdcdc 50%,transparent 50%);background-image:linear-gradient(to top,#dcdcdc 50%,transparent 50%);background-size:100% 1px;background-repeat:no-repeat;background-position:top;padding-top:1px}.ui-dialog-btns .ui-btn{padding:0;font-size:18px;width:100%;display:table-cell;float:none;text-align:center;height:50px;line-height:50px;color:#46d264;background-color:#f7f7f7;cursor:pointer}.ui-dialog-btns .ui-btn:first-child{border-width:0 1px 0 0;border-image:url(http://img1.40017.cn/touch/hb/c/2/img/border-dc-abeam.png) 0 2 stretch}.ui-dialog-btns .ui-btn.ui-state-hover{background-color:#e2e2e2}.ui-dialog,.ui-mask{position:absolute;left:0;display:none;-webkit-transform:translateZ(0);-webkit-tap-highlight-color:rgba(255,255,255,0);-webkit-user-select:none;-webkit-user-drag:none}.ui-dialog{overflow:hidden;margin:0 auto;background-color:#fff;z-index:1002;top:-10000px}.ui-mask{top:0;background:#000;opacity:.5;z-index:1001;width:100%;height:100%}.ui-dialog-tran{opacity:0}.ui-dialog-tran-03{opacity:.3}.ui-dialog-bg-tran{background:0 0}.ui-dialog-black{background:rgba(0,0,0,.8);color:#fff;max-width:400px}.ui-dialog .ui-dialog-title,.ui-dialog-container{position:relative}.ui-dialog .close{border-width:0;display:inline-block;padding:10px;width:18px;height:18px;margin:2px;line-height:1;-webkit-border-radius:3px;background:url(http://img1.40017.cn/touch/hb/c/2/img/close.png) no-repeat 10px 10px;position:absolute;top:1px;right:2px;cursor:pointer}",e=document.createElement("style");e.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(e)}(),function(){function t(){var i=e.attr("hl-cls");clearTimeout(o),e.removeClass(i).removeAttr("hl-cls"),e=null,n.off("touchend touchmove touchcancel",t)}var e,o,n=$(document);$.fn.highlight=function(i,a){return this.each(function(){var s=$(this);s.css({"-webkit-tap-highlight-color":"rgba(255,255,255,0)"}).off("touchstart.hl"),i&&s.on("touchstart.hl",function(r){var l;e=a?(l=$(r.target).closest(a,this))&&l.length&&l:s,e&&(e.attr("hl-cls",i),o=setTimeout(function(){e.addClass(i)},100),n.on("touchend touchmove touchcancel",t))})})}}();var a={close:'<a class="close" title="关闭"></a>',mask:'<div class="ui-mask"></div>',title:'<div class="ui-dialog-title"></div>',wrap:'<div class="ui-dialog"><div class="ui-dialog-content"></div></div> '},s={autoOpen:!1,className:"",buttons:null,closeBtn:!1,mask:!0,width:300,height:"auto",title:void 0,content:null,scrollMove:!0,container:null,maskClick:null,beforeOpen:null,afterOpen:null,beforeClose:null,afterClose:null,style:null,closeTime:2e3,className:""};n.prototype.getWrap=function(){return this._options._wrap},n.prototype.init=function(){var t=this,e=t._options;e.eventHand=$.proxy(i,t),e._container=$(e.container||document.body),(e._cIsBody=e._container.is("body"))||e._container.addClass("ui-dialog-container"),e._mask=e.mask?$(a.mask).appendTo(e._container):null,e._wrap=$(a.wrap).appendTo(e._container),e._content=$(".ui-dialog-content",e._wrap),e._title=$(a.title),e._close=e.closeBtn&&$(a.close).appendTo(e._title).highlight("close-hover").on("click",function(){t.close()}),t.title(e.title),t.content(e.content),t.buttons(e.buttons),e._wrap.css({width:e.width,height:e.height}).addClass(e.className),e.RotateChangeEvent="onorientationchange"in window?"orientationchange":"resize",$(window).on(e.RotateChangeEvent,e.eventHand),e._wrap.on("click",e.eventHand),e._mask&&e._mask.on("click",e.eventHand),e.autoOpen&&t.open()},n.prototype.calculate=function(){var t,e,o=this,n=o._options,i=document.body,a={},s=n._cIsBody,r=Math.round;return n.mask&&(a.mask=s?{width:"100%",height:Math.max(i.scrollHeight,i.clientHeight)}:{width:"100%",height:"100%"}),t=n._wrap.offset(),e=$(window),a.wrap={left:"50%",marginLeft:-r(n._wrap.width()/2)+"px",top:s?r(e.height()/2)+window.pageYOffset:"50%",marginTop:-r(n._wrap.height()/2)+"px"},a},n.prototype.refresh=function(t){var e,o,n=this,i=n._options;return o=function(){e=n.calculate(),e.mask&&i._mask.css(e.mask),i._wrap.css(e.wrap)},$.os&&$.os.ios&&document.activeElement&&/input|textarea|select/i.test(document.activeElement.tagName)||t?(document.body.scrollLeft=0,setTimeout(o,200)):o(),n},n.prototype.open=function(t){var e,o=this._options,n=this;if(!o._isOpen){if(t&&n.content(t),o._isOpen=!0,"tip"==o.style){o.mask&&o._mask.addClass("ui-dialog-tran-03"),o._wrap.addClass("ui-dialog-black");var i=n.getWrap();setTimeout(function(){o.mask&&o._mask.animate({opacity:0},1e3,"ease-out",function(){o._mask.css({opacity:""})}),i.animate({opacity:0},1e3,"ease-out",function(){i.css({opacity:"1"}),n.close()})},o.closeTime)}if("function"==typeof o.beforeOpen&&(e=o.beforeOpen()),e)return this;o._wrap.css({display:"block"}),o._mask&&o._mask.css({display:"block"}),this.refresh(),$(document).on("touchmove",o.eventHand),"function"==typeof o.afterOpen&&o.afterOpen()}},n.prototype.close=function(t){var e=this._options;return"tip"==e.style&&e.mask&&e._mask.removeClass("ui-dialog-tran-03"),"function"==typeof e.beforeClose&&e.beforeClose(),e._isOpen=!1,e._wrap.css({display:"none"}),t?this:(e._mask&&e._mask.css({display:"none"}),$(document).off("touchmove",e.eventHand),"function"==typeof e.afterClose&&e.afterClose(this),this)},n.prototype.title=function(t){var e=this._options,o=void 0!==t;return o&&(t=(e.title=t)?"<h3>"+t+"</h3>":t,e._title.html(t)[t?"prependTo":"remove"](e._wrap),e._close&&e._close.prependTo(e.title?e._title:e._wrap)),o?this:e.title},n.prototype.buttons=function(t,e){if(t){var o=this,n=o._options,i=[],a=0;if(e&&n.buttons)return void $.each(t,function(e){n.buttons[e]=t[e]});if(t&&$.each(t,function(t){i.push({index:++a,text:t,key:t})}),i[0]){for(var s="",a=0,r=i.length;r>a;a++){var l=i[a];s+='<a class="ui-btn ui-btn-'+a+'" data-key="'+l.key+'">'+l.text+"</a>"}n._button&&n._button[0]||(n._button=$('<div class="ui-dialog-btns"></div>').appendTo(n._wrap)),n._button.html(s),$(".ui-btn",n._button).highlight("ui-state-hover"),n.buttons=t}else n._button.remove(),delete n._button,delete n.buttons}},n.prototype.content=function(t){var e=this._options,o=void 0!==t;return o&&e._content.empty().append(e.content=t),o?this:e.content},n.prototype.destroy=function(){var t=this._options;return $(window).off(t.RotateChangeEvent,t.eventHand),$(document).off("touchmove",t.eventHand),t._wrap.off("click",t.eventHand).remove(),t._mask&&t._mask.off("click",t.eventHand).remove(),t._close&&t._close.highlight(),this},$.dialog=function(t){return new n(t)},function(){function t(t,e){var o={autoOpen:!0,closeBtn:!1,style:"tip",mask:e,closeTime:1e3,width:"auto",content:'<p style="">'+t+"</p>"};return $.dialog(o)}function e(e,i){i?"object"==typeof n?n.open(e):n=t(e,!0):"object"==typeof o?o.open(e):o=t(e,!1)}var o,n;$.tips=e}(),function(){var t,o,n=[],i=0,a=function(e,a){this.close(),e&&a&&o(t.param,{tagname:a[e].tagname}),i=0,n.length&&setTimeout(function(){_tc_bridge_util.show_tips_dialog(n[0]),n.shift()},300)};e.dialog=function(e,s){if(1===i)return void n.push(e);o=s;var r={content:'<p style="text-align:center;margin: 0;">'+e.param.desc+"</p>"},l={"确定":function(){a.call(this)}},c=e.param.btnList;if(c&&c.length){l={};for(var u=0;u<c.length;u++)l[c[u].showText]={fn:a,tagname:c[u].tagname}}r.buttons=l,t?(t.content(r.content),t.buttons(r.buttons)):t=$.dialog(r),t.open(),i=1,t.param=e}}()});