!function(e,a){function n(e,a){o++;var n=a.cbcache?a.cbcache+"1":"bridgeFnCache"+o,t=typeof e;if("function"===t)c[n]=e;else if("string"===t){for(var r,i=e.split("."),_=0;_<i.length;_++){if(0===_)r=window[i[_]];else{if("[object Object]"!==Object.prototype.toString.call(r))break;r=r[i[_]]}if(!r)break}c[n]="function"==typeof r?r:function(){}}return a.cbcache?[a.cbcache,"1"]:["bridgeFnCache",o]}function t(e,a,n){var t=":s"+encodeURIComponent(":"+encodeURIComponent(n));i.loadURL("easy-js:"+e+":"+encodeURIComponent(a+":")+t)}var r=navigator.userAgent.toLowerCase(),o=0,c={},i={platform:null,isTc:!1,isNavbarHidden:!0,isToolbarHidden:!0,NaEptStr:function(e){return!!("string"==typeof e&&e.trim().length>0)},buildParams:function(e){var a=this;if(e&&e.reqBodyObj&&!i.isAppVersionGreatThan(801)){var n="";for(key in e.reqBodyObj)null!=e.reqBodyObj[key]&&(n&&(n+=","),n+='"'+key+'":'+JSON.stringify(e.reqBodyObj[key]));e.reqbody=n,e.reqBodyObj=null}"[object Object]"===Object.prototype.toString.call(e.reqbody)&&a.NaEptObj(e.reqbody)&&(e.reqbody=JSON.stringify(e.reqbody),e.reqbody=e.reqbody.substring(1,e.reqbody.length-1))},extend:function(e,a){if(a&&e){var n,t;for(t in a)null!=(n=a[t])&&(e[t]=n);return e}},NaEptObj:function(e){var a=Object.prototype.toString.call(e);if("[object Array]"===a&&e.length>0)return!0;if("[object Object]"===a){for(var n in e)if(hasOwnProperty.call(e,n))return!0;return!1}return!1},stringifyAndEncode:function(e,a){try{var n=JSON.stringify(e);return a||(n=encodeURIComponent(n)),n}catch(t){return""}},decodeAndParse:function(e){try{return JSON.parse(decodeURIComponent(e))}catch(a){return{}}},buildParamString:function(e,a,n){var t={};return t.param=e||null,t.CBPluginName=a||"",t.CBTagName=n||"",i.stringifyAndEncode(t)},ntvCB:function(e,a){if(e){var n="[object Object]"===Object.prototype.toString.call(e)?e:i.decodeAndParse(e),t=n.pluginname+n.tagname,r=c[t];if(e=n,n.cacheKey){var o=Android.getCacheByKey(n.cacheKey);o&&(cachecbObj=JSON.parse(o),n.param=cachecbObj.param)}if(r)r(n.param),-1===t.indexOf("_cbcachemark_")&&delete c[t];else if(r=window[n.pluginname],r=r?r[n.tagname]:!1)r&&r(n.param);else{if("catch"===a)return;setTimeout(function(){i.ntvCB(e,"catch")},10)}}},loadURL:function(e){var n=a.createElement("iframe");n.style.display="none",n.src=e,a.body.appendChild(n),setTimeout(function(){n.parentNode.removeChild(n),n=null},200)},appver:null,isAppVersionGreatThan:function(e){return i.appver>=e&&e>0},appVersionNotSupportCallback:function(e,a){setTimeout(function(){try{var n={pluginname:e.CBPluginName,tagname:e.CBTagName,param:{tagname:e.param.tagname,startVer:a}};i.ntvCB(i.stringifyAndEncode(n))}catch(t){}},10)},init:function(){r.indexOf("iphone")>-1||r.indexOf("ipad")>-1?i.platform=0:r.indexOf("android")>-1&&(i.platform=1),-1!=r.indexOf("tctravel")&&(i.isTc=!0),i.appver=function(){var e=0,a=r.match(/tctravel\/([\d\.]+)/i);if(a&&a.length>=2){var n=a[1].split(".");2==n.length&&n.push(0),3==n.length&&(e=parseInt(n.join("")))}return e}()}};i.processFn=n,i.init(),e._tc_bridge_public=i;for(var _=[{pfn:"_tc_bridge_bar",dfn:"_tc_ntv_bar",config:[{name:"set_navbar",v:700,cbcache:!0},{name:"set_navbar_hidden",emptyPass:!0,v:700,processData:function(e){return e&&e.param||(i.isNavbarHidden=!i.isNavbarHidden,e={param:{isNavbarHidden:i.isNavbarHidden}}),e}},{name:"set_toolbar_hidden",v:700,processData:function(e){return e&&e.param||(i.isToolbarHidden=!i.isToolbarHidden,e={param:{isToolbarHidden:i.isToolbarHidden}}),e}},{name:"shareInfoFromH5",v:700,cbcache:!0},{name:"show_navbar_close_icon",v:750},{name:"share_weixin_msg",v:809},{name:"show_navbar_popup",v:810},{name:"check_im_summary",v:810,cbcache:!0}]},{pfn:"_tc_bridge_util",dfn:"_tc_ntv_util",config:[{name:"set_webview_back",v:710,dfn:"_tc_ntv_bar",emptyPass:1},{name:"set_webview_forward",v:710,dfn:"_tc_ntv_bar",emptyPass:1},{name:"show_dialog",v:700},{name:"get_data",v:700,notSupprotNormal:!1,notSupprot:function(e){$.ajax({type:"post",url:"http://61.155.159.99:8010/youlun/api/apitesthandler.ashx",data:JSON.stringify(e.param),success:function(a){i.ntvCB({param:{tagname:e.param.tagname,CBData:a},pluginname:e.CBPluginName,tagname:e.CBTagName})}})},processData:function(e){return i.buildParams(e.param),e}},{name:"set_page",v:700},{name:"set_event",v:700},{name:"upload_photo",v:710},{name:"keyword_search",v:710},{name:"set_city",v:710},{name:"set_category_event",v:710},{name:"set_webview_info",v:710,av:802},{name:"show_tips_dialog",v:720},{name:"get_network_type",v:720},{name:"set_alarm_info",v:720},{name:"get_alarm_info",v:720},{name:"cancel_alarm_info",v:720},{name:"show_toast",v:730},{name:"show_flash_dialog",v:730},{name:"save_tracelog",v:742},{name:"choose_photo",v:750},{name:"show_online_dialog",v:751},{name:"check_online_entry",v:751},{name:"set_weixin_cardcoupon",v:752},{name:"check_installed_packages",av:753,v:-1},{name:"scan",v:804},{name:"crop_photo",v:804},{name:"create_qrimage",v:804},{name:"get_app_info",v:806},{name:"td_save_product_detail",v:807},{name:"td_save_order_success",v:807},{name:"td_save_pay_success",v:807},{name:"get_index_config",v:810},{name:"get_webapp_cache",v:811},{name:"set_webapp_cache",v:811}]},{pfn:"_tc_bridge_map",dfn:"_tc_ntv_map",config:[{name:"app_location",v:710,callfn:"app_locate"},{name:"open_navigation_map",v:730},{name:"select_city",v:730,notcode:760,cbcache:!0},{name:"show_multi_lonlats",v:740},{name:"open_hotel_map",v:760},{name:"select_flight_city",v:804},{name:"select_discovery_city",v:804}]},{pfn:"_tc_bridge_user",dfn:"_tc_ntv_user",config:[{name:"user_login",v:720},{name:"get_device_info",v:720},{name:"get_contacts",v:730},{name:"get_mailing_address",v:730},{name:"user_logout",v:730},{name:"pick_common_contacts",v:740},{name:"pick_flight_common_contacts",v:750},{name:"pick_interflight_common_contacts",v:751},{name:"check_lockpattern",v:802},{name:"get_all_contacts",v:804},{name:"social_login_auth",v:806}]},{pfn:"_tc_bridge_web",dfn:"_tc_ntv_web",config:[{name:"open_newurl",v:720},{name:"data_callback",v:720},{name:"clear_cache",v:731},{name:"set_webview_mark",v:806,cbcache:!0},{name:"jump_webview_mark",v:806},{name:"play_audio",cbcache:!0,v:811,av:-1}]},{pfn:"_tc_bridge_datetime",dfn:"_tc_ntv_datetime",config:[{name:"pick_datetime",v:730},{name:"pick_date",v:730},{name:"pick_iflight_calendar",v:751},{name:"pick_common_calendar",v:760,notcode:760},{name:"pick_route_calendar",v:811}]},{pfn:"_tc_bridge_sale",dfn:"_tc_ntv_sale",config:[{name:"get_redpackage",v:730},{name:"select_redpackage",v:730},{name:"get_redpackage_with_price",v:730}]},{pfn:"_tc_bridge_pay",dfn:"_tc_ntv_pay",config:[{name:"pay_creditcard",v:730},{name:"pay_alipay",v:730},{name:"pay_platform",v:740},{name:"open_recommend_page",v:740},{name:"flight_pay_platform",v:750}]},{pfn:"_tc_bridge_project",dfn:"_tc_ntv_project",config:[{name:"update_trainorder_status",v:742},{name:"write_comment",v:742},{name:"open_commentlist",v:742},{name:"save_train_nonmember_order",v:750},{name:"save_flight_nonmember_order",v:750},{name:"open_comment_center",v:752},{name:"open_hotel_book_page",v:760},{name:"save_flight_history_city",v:806},{name:"save_nonlogin_orders",v:811},{name:"update_nonlogin_orders",v:811},{name:"select_vacation_dest",v:811}]}],m=0;m<_.length;m++){var p=_[m],s=p.config;e[p.pfn]=e[p.pfn]||{};for(var v=0;v<s.length;v++)!function(a,n,r,o){var c;c=1==i.platform?i.isAppVersionGreatThan(a.av||a.v):i.isAppVersionGreatThan(a.v);var _=a.dfn||n.dfn,m=a.name;r[m]=function(n){if(a.processData&&(n=a.processData(n)),n&&(a.cbcache&&(n.cbcache=o+"_cbcachemark_"+m),n.callback)){var r=i.processFn(n.callback,n);n.CBPluginName=r[0],n.CBTagName=r[1]}if(a.emptyPass||i.NaEptObj(n)){var p=a.callfn||m;if(c){if(0==i.platform)t(_,p,i.stringifyAndEncode(n));else if(1==i.platform){var s=i.stringifyAndEncode(n,a.notcode&&i.isAppVersionGreatThan(a.notcode));e[_]&&e[_][p]&&e[_][p](s)}}else a.notSupprot&&a.notSupprot(n),a.notSupprotNormal!==!1&&i.appVersionNotSupportCallback(n,a.v.toString().split("").join("."))}}}(s[v],p,e[p.pfn],p.pfn)}}(window,document);